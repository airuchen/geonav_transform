<?xml version="1.0"?>
<launch>

  <!-- For setting debug level to debug -->
  <env name="ROSCONSOLE_CONFIG_FILE" 
       value="$(find geonav_transform)/config/custom_rosconsole.conf"/>

  <node pkg="geonav_transform" type="geonav_transform_node" name="geonav_transform_node" clear_params="true" output="screen">
    <!-- Datum as latitude, longitude [decimal deg.], yaw [ENU, degrees] -->
    <param name="odom_frame_id" value="map_navgraph" />
    <param name="base_link_frame_id" value="base_link_gps" />
    <param name="broadcast_odom2base_transform" value="true" />
    <param name="zero_altitude" value="true" />
    <!--set to the original lla as map origin-->
    <rosparam param="datum">[50.780578, 6.104401, 149.1]</rosparam>
    <!--set to the wrong lla -->
    <!-- <rosparam param="datum">[50.7804, 6.1043, 149.1]</rosparam> -->
  </node>

  <node pkg="tf" type="static_transform_publisher" name="map_2_map_gps" args="0 0 0 0 0 0 map map_navgraph 10" />

  <!-- offset for wrong lla -->
  <!--
  <node pkg="navgraph" type="navgraph_map_reorientation" name="navgraph_map_reorientation" output="screen" />
  <node pkg="teleop_twist_keyboard" type="teleop_twist_keyboard.py" name="teleop_twist_keyboard" output="screen" launch-prefix="xterm -e" >
    <remap from="cmd_vel" to="cmd_vel_map" />
  </node>
  -->

  <!--
  <node name="microstrain_3dm_gx5_45" 
  pkg="microstrain_3dm_gx5_45" 
  type="microstrain_3dm_gx5_45" output="screen">
    <param name="port" value="/dev/ttyACM0" type="str" />
    <param name="baudrate" value="115200" type="int" />
    <param name="gps_frame_id" value="world" type=" str" />
    <param name="imu_frame_id" value="imu" type="str" />
    <param name="nav_frame_id" value="" type="str" />
    <param name="gps_rate" value="4" type="int" />
    <param name="imu_rate" value="10" type="int" />
    <param name="nav_rate" value="10" type="int" />
    <param name="dynamics_mode" value="1" type="int" />
    <param name="declination_source" value="2" type="int" />
    <param name="declination" value="0.23" type="double" />
  </node>
  -->


  

</launch>
